<div class="container mt-4">
    <div class="card-header">
        <h3 class="mb-0">Agregar / Editar</h3>
    </div>

    <div class="card-body">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="row g-3">
                <!-- Username -->
                <!-- <div class="col-md-6">
                    <label for="username" class="form-label">Username</label>
                    <input type="text" id="username" class="form-control" formControlName="username"
                        [ngClass]="{'is-invalid': form.get('username')?.invalid && form.get('username')?.touched}" />
                    <div class="invalid-feedback">
                        Ingrese un username válido.
                    </div>
                </div> -->

                <!-- Nombre -->
                <div class="col-md-6">
                    <label for="name" class="form-label">Nombre</label>
                    <input type="text" id="name" class="form-control" formControlName="name"
                        [ngClass]="{'is-invalid': form.get('name')?.invalid && form.get('name')?.touched}" />
                    <div class="invalid-feedback">
                        El nombre es obligatorio.
                    </div>
                </div>

                <!-- Apellido -->
                <div class="col-md-6">
                    <label for="lastname" class="form-label">Apellido</label>
                    <input type="text" id="lastname" class="form-control" formControlName="lastname"
                        [ngClass]="{'is-invalid': form.get('lastname')?.invalid && form.get('lastname')?.touched}" />
                    <div class="invalid-feedback">
                        El apellido es obligatorio.
                    </div>
                </div>

                <!-- Email -->
                <div class="col-md-6">
                    <label for="email" class="form-label">Correo electrónico</label>
                    <input type="email" id="email" class="form-control" formControlName="email"
                        [ngClass]="{'is-invalid': form.get('email')?.invalid && form.get('email')?.touched}" />
                    <div class="invalid-feedback">
                        Ingrese un correo válido.
                    </div>
                </div>

                <!-- Teléfono -->
                <div class="col-md-6">
                    <label for="phone" class="form-label">Teléfono</label>
                    <input type="text" id="phone" class="form-control" formControlName="phone"
                        [ngClass]="{'is-invalid': form.get('phone')?.invalid && form.get('phone')?.touched}" />
                    <div class="invalid-feedback">
                        Ingrese un número válido.
                    </div>
                </div>

                <!-- Fecha de nacimiento -->
                <!-- <div class="col-md-6">
                        <label for="dob" class="form-label">Fecha de Nacimiento</label>
                        <input type="date" id="dob" class="form-control" formControlName="dob"
                            [ngClass]="{'is-invalid': form.get('dob')?.invalid && form.get('dob')?.touched}" />
                        <div class="invalid-feedback">
                            La fecha de nacimiento es obligatoria.
                        </div>
                    </div> -->

                <!-- País -->
                <!-- <div class="col-md-6">
                        <label for="country" class="form-label">País</label>
                        <input type="text" id="country" class="form-control" formControlName="country"
                            [ngClass]="{'is-invalid': invalid('country')}" />
                        <div class="invalid-feedback">El país es obligatorio.</div>
                    </div> -->

                <!-- Estado -->
                <!-- <div class="col-md-6">
                    <label for="state" class="form-label">Estado</label>
                    <select formControlName="state" class="form-select" [ngClass]="{'is-invalid': invalid('state')}">
                        <option value="">Selecciona un estado</option>
                        <option *ngFor="let s of mexicoStates" [value]="s">{{ s }}</option>
                    </select>
                    <div class="invalid-feedback" *ngIf="invalid('state')">
                        El estado es obligatorio.
                    </div>
                </div> -->

                <!-- Contraseña -->
                <div class="col-md-6">
                    <label for="password" class="form-label">Contraseña</label>
                    <input type="password" id="password" class="form-control" formControlName="password"
                        [ngClass]="{'is-invalid': invalid('password')}" />
                    <div class="invalid-feedback">
                        La contraseña debe tener al menos 8 caracteres.
                    </div>
                </div>

                <!-- Activo -->
                <!-- <div class="col-md-6 d-flex align-items-center mt-2">
                        <div class="form-check">
                            <input type="checkbox" id="active" class="form-check-input" formControlName="active" />
                            <label for="active" class="form-check-label">Activo</label>
                        </div>
                    </div> -->
            </div>

            <!-- Botones -->
            <div class="mt-4 d-flex justify-content-end gap-2">
                <button type="button" class="btn btn-secondary" (click)="cancel()">Cancelar</button>
                <!-- <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Guardar</button> -->
                <button type="submit" class="btn btn-primary" [disabled]="form.invalid || loading">
                    {{ loading ? 'Guardando...' : 'Guardar' }}
                </button>
            </div>
        </form>
    </div>
</div>